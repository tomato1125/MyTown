<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>MyTown</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

  
    <%= Gon::Base.render_data({}) %>
    
    <%= stylesheet_link_tag 'application' %>
    <%= favicon_link_tag('favicon.ico') %>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <%= javascript_include_tag 'application' %>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
  </head>

  <body>
    <header class="header">
      <%# トップページとその他のページでヘッダー表示を変更する %>
      <% if request.path == '/' %>
        <%= render partial: "layouts/root_header" %>
      <% else %>
        <%= render partial: "layouts/header" %>
      <% end %>
      <%# フラッシュメッセージ %>
      <%= render 'layouts/notifications' %>
    </header>

    <%= yield %>

    <footer class="footer">
      <%= render partial: "layouts/footer" %>
    </footer>
    
    <script src='//cdn.rawgit.com/printercu/google-maps-utility-library-v3-read-only/master/infobox/src/infobox_packed.js' type='text/javascript'></script>
    <script src="//cdn.rawgit.com/mahnunchik/markerclustererplus/master/dist/markerclusterer.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=<%= ENV['GOOGLE_API_KEY'] %>" async defer></script>

  </body>
</html>



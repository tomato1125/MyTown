<div class="postShow">
  <div class='NewPostArea'>
    <div class="PostTitle">
      <span>~ <%= @post.title %> ~</span>
    </div>
    <div class='postShowImage' style="background-image: url(<%= @post.image %>);">
      <div class="AreaInfomation">
        <div class="UserIcon">
          <i class="fas fa-map-marker-alt"></i>
        </div>
        <div class="AreaName">
          <%= @post.prefecture.name if @post.prefecture_id? %>
        </div>
      </div>
      <% if current_user.already_cliped?(@post) %>
        <%= link_to post_clip_path(@post), class: "ClipButton", method: :delete do%>
          <div class="CategoryIndexFavorite">
            <i class="fas fa-bookmark"></i>
            <div class="ClipedCount">
              <%= @post.clips.count %>
            </div>
          </div>
        <% end %>
      <% else %>
        <%= link_to post_clips_path(@post), method: :post do%>
          <div class="CategoryIndexFavorite">
            <i class="far fa-bookmark"></i>
            <div class="ClipedCount">
              <%= @post.clips.count %>
            </div>
          </div>
        <% end %>
      <% end %>
    </div>
    <div class='PostDescription'>
      <%= @post.content %>
    </div>
    <% if user_signed_in? && current_user.id == @post.user_id %>
      <%= link_to '編集', edit_post_path(@post.id), method: :get %>
      <button name="削除する" id="modal-open">投稿を削除</button>
      <%# モーダルエリア %>
      <div id="modal-main">
        <div class="modal-contents">
          <div class="modal-content">
            <h3>この投稿を削除しますか？</h3>
            <br>
            <h6>（削除すると復元ができませんのでご注意ください）</h6>
            <div class="DeleteMotalButton">
              <%= button_to '削除', post_path(@post.id), method: :delete, class: "delete-btn"%>
            </div>
            <%= link_to '戻る', class: "return-btn"%>
          </div>
        </div>
      </div>
    <% end %>
    <% if current_user.already_cliped?(@post) %>
      <%= button_to post_clip_path(@post), method: :delete do%>
        <i class="fas fa-bookmark"></i> Bookmarkを解除
      <% end %>
    <% else %>
      <%= button_to post_clips_path(@post) do%>
        <i class="far fa-bookmark"> Bookmark</i>
      <% end %>
    <% end %>
  </div>
  <div class='GoogleMapShow'>
    <%= render 'showmap', post: @post %>
  </div>
</div>
<div class="CommentArea">
  <% if current_user %>
    <div class="CommentForm">
      <%= form_with(model: [@post, @comment], local: true, id: "new_comment") do |form| %>
        <%= form.text_area :text, placeholder: "コメントする", rows: "2", class: "CommentForm__textbox" %>
        <%= form.submit "SEND", class: "CommentForm__btn" %>
      <% end %>
    </div>
  <% else %>
    <strong><p>※※※ コメントの投稿には新規登録/ログインが必要です ※※※</p></strong>
  <% end %>
  <div class="comments">
    <h4>＜コメント一覧＞</h4>
    <% if @comments %>
      <% @comments.each do |comment| %>
        <div class="comment">
          <div class="comment_Avater">
            <%= image_tag comment.user.image.url, class: "CommentAvater" %>
          </div>
          <strong>
            <%= link_to comment.user.name, "/users/#{comment.user_id}" %>：
          </strong>
          <%= comment.text %>
        </div>
      <% end %>
    <% end %>
  </div>
</div>